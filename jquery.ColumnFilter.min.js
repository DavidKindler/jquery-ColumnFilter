(function(a){a.fn.ColumnFilter=function(g){var e=a.extend({alternateRowClassNames:[]},g),h=a(this).find("tr")[0].cells.length,j=e.alternateRowClassNames[0]||"",k=e.alternateRowClassNames[1]||"";Array.prototype.unique=function(){var a={},c,e=this.length,f=[];for(c=0;c<e;c+=1)a[this[c]]=this[c];for(c in a)f.push(a[c]);return f};return this.each(function(){var d=a(this),c=function(b,c,e){a(b,d).each(function(){0>a(this).text().search(RegExp(c,"i"))?a(this).attr("data-value",0):a(this).attr("data-value",
1);sum=0;sum+=parseInt(a(this).attr("data-value"));a(this).siblings().each(function(){sum+=parseInt(a(this).attr("data-value"))});sum<h?a(this).parent(this).hide():a(this).parent(this).show()});"function"==typeof e&&e(d)},g=function(b){a("#Col"+b,d).empty().wrapInner('<input type="text" id="filterText'+b+'" class="filterText">');a("#filterText"+b,d).keyup(function(){c("tbody tr td:nth-child("+b+")",a(this).val(),l)})},f=function(b){a("#Col"+b,d).empty().wrapInner('<select id="filterText'+b+'" class="filterText">');
m(b);a("#filterText"+b,d).change(function(){c("tbody tr td:nth-child("+b+")",a(this).val(),l)})},m=function(b){var c=[],e=[];a("tbody>tr",d).each(function(){str=a.trim(a(this).find("td:nth-child("+b+")",this).text());str.length&&c.push(str)});var f=c.unique();f.unshift("");a.each(f,function(a,b){e.push('<option value="'+b+'">'+b+"</option>")});a("#filterText"+b,d).empty().append(e.join(""))},l=function(b){e.alternateRowClassNames&&e.alternateRowClassNames.length&&(a("tbody>tr:visible:even",b).removeClass(k).removeClass(j).addClass(j),
a("tbody tr:visible:odd",b).removeClass(k).removeClass(j).addClass(k))};a("thead",d).append('<tr class="filterColumns" />');for(i=1;i<=h;i++)a(".filterColumns",d).append('<td id="Col'+i+'">');for(i=0;i<=h;i++)"none"!=a("thead th:eq("+i+")",d).attr("filter-type")&&("ddl"==a("thead th:eq("+i+")",d).attr("filter-type")?f(i+1):g(i+1));a("tbody tr td",d).attr("data-value",1);l(d)})}})(jQuery);